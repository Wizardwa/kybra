<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Candid - The Kybra Book</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="the_kybra_book.html"><strong aria-hidden="true">1.</strong> The Kybra Book</a></li><li class="chapter-item expanded "><a href="kybra.html"><strong aria-hidden="true">2.</strong> Kybra (Beta)</a></li><li class="chapter-item expanded "><a href="examples.html"><strong aria-hidden="true">3.</strong> Examples</a></li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">4.</strong> Installation</a></li><li class="chapter-item expanded "><a href="hello_world.html"><strong aria-hidden="true">5.</strong> Hello World</a></li><li class="chapter-item expanded "><a href="deployment.html"><strong aria-hidden="true">6.</strong> Deployment</a></li><li class="chapter-item expanded "><a href="internet_computer_overview.html"><strong aria-hidden="true">7.</strong> Internet Computer Overview</a></li><li class="chapter-item expanded "><a href="canisters_overview.html"><strong aria-hidden="true">8.</strong> Canisters Overview</a></li><li class="chapter-item expanded "><a href="query_methods.html"><strong aria-hidden="true">9.</strong> Query Methods</a></li><li class="chapter-item expanded "><a href="update_methods.html"><strong aria-hidden="true">10.</strong> Update Methods</a></li><li class="chapter-item expanded "><a href="candid.html" class="active"><strong aria-hidden="true">11.</strong> Candid</a></li><li class="chapter-item expanded "><a href="stable_structures.html"><strong aria-hidden="true">12.</strong> Stable Structures</a></li><li class="chapter-item expanded "><a href="cross_canister.html"><strong aria-hidden="true">13.</strong> Cross-canister</a></li><li class="chapter-item expanded "><a href="http.html"><strong aria-hidden="true">14.</strong> HTTP</a></li><li class="chapter-item expanded "><a href="management_canister.html"><strong aria-hidden="true">15.</strong> Management Canister</a></li><li class="chapter-item expanded "><a href="canister_lifecycle.html"><strong aria-hidden="true">16.</strong> Canister Lifecycle</a></li><li class="chapter-item expanded "><a href="timers.html"><strong aria-hidden="true">17.</strong> Timers</a></li><li class="chapter-item expanded "><a href="cycles.html"><strong aria-hidden="true">18.</strong> Cycles</a></li><li class="chapter-item expanded "><a href="gotchas_and_caveats.html"><strong aria-hidden="true">19.</strong> Gotchas and Caveats</a></li><li class="chapter-item expanded "><a href="reference/reference.html"><strong aria-hidden="true">20.</strong> Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/call_apis/call_apis.html"><strong aria-hidden="true">20.1.</strong> Call APIs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/call_apis/accept_message.html"><strong aria-hidden="true">20.1.1.</strong> accept message</a></li><li class="chapter-item expanded "><a href="reference/call_apis/arg_data_raw.html"><strong aria-hidden="true">20.1.2.</strong> arg data raw</a></li><li class="chapter-item expanded "><a href="reference/call_apis/arg_data_raw_size.html"><strong aria-hidden="true">20.1.3.</strong> arg data raw size</a></li><li class="chapter-item expanded "><a href="reference/call_apis/call.html"><strong aria-hidden="true">20.1.4.</strong> call</a></li><li class="chapter-item expanded "><a href="reference/call_apis/call_raw.html"><strong aria-hidden="true">20.1.5.</strong> call raw</a></li><li class="chapter-item expanded "><a href="reference/call_apis/call_raw128.html"><strong aria-hidden="true">20.1.6.</strong> call raw 128</a></li><li class="chapter-item expanded "><a href="reference/call_apis/call_with_payment.html"><strong aria-hidden="true">20.1.7.</strong> call with payment</a></li><li class="chapter-item expanded "><a href="reference/call_apis/call_with_payment128.html"><strong aria-hidden="true">20.1.8.</strong> call with payment 128</a></li><li class="chapter-item expanded "><a href="reference/call_apis/caller.html"><strong aria-hidden="true">20.1.9.</strong> caller</a></li><li class="chapter-item expanded "><a href="reference/call_apis/method_name.html"><strong aria-hidden="true">20.1.10.</strong> method name</a></li><li class="chapter-item expanded "><a href="reference/call_apis/msg_cycles_accept.html"><strong aria-hidden="true">20.1.11.</strong> msg cycles accept</a></li><li class="chapter-item expanded "><a href="reference/call_apis/msg_cycles_accept128.html"><strong aria-hidden="true">20.1.12.</strong> msg cycles accept 128</a></li><li class="chapter-item expanded "><a href="reference/call_apis/msg_cycles_available.html"><strong aria-hidden="true">20.1.13.</strong> msg cycles available</a></li><li class="chapter-item expanded "><a href="reference/call_apis/msg_cycles_available128.html"><strong aria-hidden="true">20.1.14.</strong> msg cycles available 128</a></li><li class="chapter-item expanded "><a href="reference/call_apis/msg_cycles_refunded.html"><strong aria-hidden="true">20.1.15.</strong> msg cycles refunded</a></li><li class="chapter-item expanded "><a href="reference/call_apis/msg_cycles_refunded128.html"><strong aria-hidden="true">20.1.16.</strong> msg cycles refunded 128</a></li><li class="chapter-item expanded "><a href="reference/call_apis/notify.html"><strong aria-hidden="true">20.1.17.</strong> notify</a></li><li class="chapter-item expanded "><a href="reference/call_apis/notify_raw.html"><strong aria-hidden="true">20.1.18.</strong> notify raw</a></li><li class="chapter-item expanded "><a href="reference/call_apis/notify_with_payment_128.html"><strong aria-hidden="true">20.1.19.</strong> notify with payment 128</a></li><li class="chapter-item expanded "><a href="reference/call_apis/performance_counter.html"><strong aria-hidden="true">20.1.20.</strong> performance counter</a></li><li class="chapter-item expanded "><a href="reference/call_apis/reject.html"><strong aria-hidden="true">20.1.21.</strong> reject</a></li><li class="chapter-item expanded "><a href="reference/call_apis/reject_code.html"><strong aria-hidden="true">20.1.22.</strong> reject code</a></li><li class="chapter-item expanded "><a href="reference/call_apis/reject_message.html"><strong aria-hidden="true">20.1.23.</strong> reject message</a></li><li class="chapter-item expanded "><a href="reference/call_apis/reply.html"><strong aria-hidden="true">20.1.24.</strong> reply</a></li><li class="chapter-item expanded "><a href="reference/call_apis/reply_raw.html"><strong aria-hidden="true">20.1.25.</strong> reply raw</a></li></ol></li><li class="chapter-item expanded "><a href="reference/candid/candid.html"><strong aria-hidden="true">20.2.</strong> Candid</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/candid/blob.html"><strong aria-hidden="true">20.2.1.</strong> blob</a></li><li class="chapter-item expanded "><a href="reference/candid/bool.html"><strong aria-hidden="true">20.2.2.</strong> bool</a></li><li class="chapter-item expanded "><a href="reference/candid/empty.html"><strong aria-hidden="true">20.2.3.</strong> empty</a></li><li class="chapter-item expanded "><a href="reference/candid/float32.html"><strong aria-hidden="true">20.2.4.</strong> float32</a></li><li class="chapter-item expanded "><a href="reference/candid/float64.html"><strong aria-hidden="true">20.2.5.</strong> float64</a></li><li class="chapter-item expanded "><a href="reference/candid/func.html"><strong aria-hidden="true">20.2.6.</strong> func</a></li><li class="chapter-item expanded "><a href="reference/candid/int.html"><strong aria-hidden="true">20.2.7.</strong> int</a></li><li class="chapter-item expanded "><a href="reference/candid/int8.html"><strong aria-hidden="true">20.2.8.</strong> int8</a></li><li class="chapter-item expanded "><a href="reference/candid/int16.html"><strong aria-hidden="true">20.2.9.</strong> int16</a></li><li class="chapter-item expanded "><a href="reference/candid/int32.html"><strong aria-hidden="true">20.2.10.</strong> int32</a></li><li class="chapter-item expanded "><a href="reference/candid/int64.html"><strong aria-hidden="true">20.2.11.</strong> int64</a></li><li class="chapter-item expanded "><a href="reference/candid/nat.html"><strong aria-hidden="true">20.2.12.</strong> nat</a></li><li class="chapter-item expanded "><a href="reference/candid/nat8.html"><strong aria-hidden="true">20.2.13.</strong> nat8</a></li><li class="chapter-item expanded "><a href="reference/candid/nat16.html"><strong aria-hidden="true">20.2.14.</strong> nat16</a></li><li class="chapter-item expanded "><a href="reference/candid/nat32.html"><strong aria-hidden="true">20.2.15.</strong> nat32</a></li><li class="chapter-item expanded "><a href="reference/candid/nat64.html"><strong aria-hidden="true">20.2.16.</strong> nat64</a></li><li class="chapter-item expanded "><a href="reference/candid/null.html"><strong aria-hidden="true">20.2.17.</strong> null</a></li><li class="chapter-item expanded "><a href="reference/candid/opt.html"><strong aria-hidden="true">20.2.18.</strong> opt</a></li><li class="chapter-item expanded "><a href="reference/candid/principal.html"><strong aria-hidden="true">20.2.19.</strong> principal</a></li><li class="chapter-item expanded "><a href="reference/candid/record.html"><strong aria-hidden="true">20.2.20.</strong> record</a></li><li class="chapter-item expanded "><a href="reference/candid/reserved.html"><strong aria-hidden="true">20.2.21.</strong> reserved</a></li><li class="chapter-item expanded "><a href="reference/candid/service.html"><strong aria-hidden="true">20.2.22.</strong> service</a></li><li class="chapter-item expanded "><a href="reference/candid/text.html"><strong aria-hidden="true">20.2.23.</strong> text</a></li><li class="chapter-item expanded "><a href="reference/candid/variant.html"><strong aria-hidden="true">20.2.24.</strong> variant</a></li><li class="chapter-item expanded "><a href="reference/candid/vec.html"><strong aria-hidden="true">20.2.25.</strong> vec</a></li></ol></li><li class="chapter-item expanded "><a href="reference/canister_apis/canister_apis.html"><strong aria-hidden="true">20.3.</strong> Canister APIs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/canister_apis/candid_decode.html"><strong aria-hidden="true">20.3.1.</strong> candid decode</a></li><li class="chapter-item expanded "><a href="reference/canister_apis/candid_encode.html"><strong aria-hidden="true">20.3.2.</strong> candid encode</a></li><li class="chapter-item expanded "><a href="reference/canister_apis/canister_balance.html"><strong aria-hidden="true">20.3.3.</strong> canister balance</a></li><li class="chapter-item expanded "><a href="reference/canister_apis/canister_balance128.html"><strong aria-hidden="true">20.3.4.</strong> canister balance 128</a></li><li class="chapter-item expanded "><a href="reference/canister_apis/canister_id.html"><strong aria-hidden="true">20.3.5.</strong> canister id</a></li><li class="chapter-item expanded "><a href="reference/canister_apis/data_certificate.html"><strong aria-hidden="true">20.3.6.</strong> data certificate</a></li><li class="chapter-item expanded "><a href="reference/canister_apis/print.html"><strong aria-hidden="true">20.3.7.</strong> print</a></li><li class="chapter-item expanded "><a href="reference/canister_apis/set_certified_data.html"><strong aria-hidden="true">20.3.8.</strong> set certified data</a></li><li class="chapter-item expanded "><a href="reference/canister_apis/time.html"><strong aria-hidden="true">20.3.9.</strong> time</a></li><li class="chapter-item expanded "><a href="reference/canister_apis/trap.html"><strong aria-hidden="true">20.3.10.</strong> trap</a></li></ol></li><li class="chapter-item expanded "><a href="reference/canister_methods/canister_methods.html"><strong aria-hidden="true">20.4.</strong> Canister Methods</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/canister_methods/heartbeat.html"><strong aria-hidden="true">20.4.1.</strong> heartbeat</a></li><li class="chapter-item expanded "><a href="reference/canister_methods/http_request.html"><strong aria-hidden="true">20.4.2.</strong> http_request</a></li><li class="chapter-item expanded "><a href="reference/canister_methods/http_request_update.html"><strong aria-hidden="true">20.4.3.</strong> http_request_update</a></li><li class="chapter-item expanded "><a href="reference/canister_methods/init.html"><strong aria-hidden="true">20.4.4.</strong> init</a></li><li class="chapter-item expanded "><a href="reference/canister_methods/inspect_message.html"><strong aria-hidden="true">20.4.5.</strong> inspect message</a></li><li class="chapter-item expanded "><a href="reference/canister_methods/post_upgrade.html"><strong aria-hidden="true">20.4.6.</strong> post upgrade</a></li><li class="chapter-item expanded "><a href="reference/canister_methods/pre_upgrade.html"><strong aria-hidden="true">20.4.7.</strong> pre upgrade</a></li><li class="chapter-item expanded "><a href="reference/canister_methods/query.html"><strong aria-hidden="true">20.4.8.</strong> query</a></li><li class="chapter-item expanded "><a href="reference/canister_methods/update.html"><strong aria-hidden="true">20.4.9.</strong> update</a></li></ol></li><li class="chapter-item expanded "><a href="reference/management_canister/management_canister.html"><strong aria-hidden="true">20.5.</strong> Management Canister</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/management_canister/bitcoin_get_balance.html"><strong aria-hidden="true">20.5.1.</strong> bitcoin_get_balance</a></li><li class="chapter-item expanded "><a href="reference/management_canister/bitcoin_get_current_fee_percentiles.html"><strong aria-hidden="true">20.5.2.</strong> bitcoin_get_current_fee_percentiles</a></li><li class="chapter-item expanded "><a href="reference/management_canister/bitcoin_get_utxos.html"><strong aria-hidden="true">20.5.3.</strong> bitcoin_get_utxos</a></li><li class="chapter-item expanded "><a href="reference/management_canister/bitcoin_send_transaction.html"><strong aria-hidden="true">20.5.4.</strong> bitcoin_send_transaction</a></li><li class="chapter-item expanded "><a href="reference/management_canister/canister_status.html"><strong aria-hidden="true">20.5.5.</strong> canister_status</a></li><li class="chapter-item expanded "><a href="reference/management_canister/create_canister.html"><strong aria-hidden="true">20.5.6.</strong> create_canister</a></li><li class="chapter-item expanded "><a href="reference/management_canister/delete_canister.html"><strong aria-hidden="true">20.5.7.</strong> delete_canister</a></li><li class="chapter-item expanded "><a href="reference/management_canister/deposit_cycles.html"><strong aria-hidden="true">20.5.8.</strong> deposit_cycles</a></li><li class="chapter-item expanded "><a href="reference/management_canister/ecdsa_public_key.html"><strong aria-hidden="true">20.5.9.</strong> ecdsa_public_key</a></li><li class="chapter-item expanded "><a href="reference/management_canister/http_request.html"><strong aria-hidden="true">20.5.10.</strong> http_request</a></li><li class="chapter-item expanded "><a href="reference/management_canister/install_code.html"><strong aria-hidden="true">20.5.11.</strong> install_code</a></li><li class="chapter-item expanded "><a href="reference/management_canister/provisional_create_canister_with_cycles.html"><strong aria-hidden="true">20.5.12.</strong> provisional_create_canister_with_cycles</a></li><li class="chapter-item expanded "><a href="reference/management_canister/provisional_top_up_canister.html"><strong aria-hidden="true">20.5.13.</strong> provisional_top_up_canister</a></li><li class="chapter-item expanded "><a href="reference/management_canister/raw_rand.html"><strong aria-hidden="true">20.5.14.</strong> raw_rand</a></li><li class="chapter-item expanded "><a href="reference/management_canister/sign_with_ecdsa.html"><strong aria-hidden="true">20.5.15.</strong> sign_with_ecdsa</a></li><li class="chapter-item expanded "><a href="reference/management_canister/start_canister.html"><strong aria-hidden="true">20.5.16.</strong> start_canister</a></li><li class="chapter-item expanded "><a href="reference/management_canister/stop_canister.html"><strong aria-hidden="true">20.5.17.</strong> stop_canister</a></li><li class="chapter-item expanded "><a href="reference/management_canister/uninstall_code.html"><strong aria-hidden="true">20.5.18.</strong> uninstall_code</a></li><li class="chapter-item expanded "><a href="reference/management_canister/update_settings.html"><strong aria-hidden="true">20.5.19.</strong> update_settings</a></li></ol></li><li class="chapter-item expanded "><a href="reference/stable_memory/stable_memory.html"><strong aria-hidden="true">20.6.</strong> Stable Memory</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/stable_memory/stable_structures.html"><strong aria-hidden="true">20.6.1.</strong> stable structures</a></li><li class="chapter-item expanded "><a href="reference/stable_memory/stable_bytes.html"><strong aria-hidden="true">20.6.2.</strong> stable bytes</a></li><li class="chapter-item expanded "><a href="reference/stable_memory/stable_grow.html"><strong aria-hidden="true">20.6.3.</strong> stable grow</a></li><li class="chapter-item expanded "><a href="reference/stable_memory/stable_read.html"><strong aria-hidden="true">20.6.4.</strong> stable read</a></li><li class="chapter-item expanded "><a href="reference/stable_memory/stable_size.html"><strong aria-hidden="true">20.6.5.</strong> stable size</a></li><li class="chapter-item expanded "><a href="reference/stable_memory/stable_write.html"><strong aria-hidden="true">20.6.6.</strong> stable write</a></li><li class="chapter-item expanded "><a href="reference/stable_memory/stable64_grow.html"><strong aria-hidden="true">20.6.7.</strong> stable64 grow</a></li><li class="chapter-item expanded "><a href="reference/stable_memory/stable64_read.html"><strong aria-hidden="true">20.6.8.</strong> stable64 read</a></li><li class="chapter-item expanded "><a href="reference/stable_memory/stable64_size.html"><strong aria-hidden="true">20.6.9.</strong> stable64 size</a></li><li class="chapter-item expanded "><a href="reference/stable_memory/stable64_write.html"><strong aria-hidden="true">20.6.10.</strong> stable64 write</a></li></ol></li><li class="chapter-item expanded "><a href="reference/timers/timers.html"><strong aria-hidden="true">20.7.</strong> Timers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reference/timers/clear_timer.html"><strong aria-hidden="true">20.7.1.</strong> clear timer</a></li><li class="chapter-item expanded "><a href="reference/timers/set_timer.html"><strong aria-hidden="true">20.7.2.</strong> set timer</a></li><li class="chapter-item expanded "><a href="reference/timers/set_timer_interval.html"><strong aria-hidden="true">20.7.3.</strong> set timer interval</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Kybra Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="candid"><a class="header" href="#candid">Candid</a></h1>
<ul>
<li><a href="#text">text</a></li>
<li><a href="#blob">blob</a></li>
<li><a href="#nat">nat</a></li>
<li><a href="#nat64">nat64</a></li>
<li><a href="#nat32">nat32</a></li>
<li><a href="#nat16">nat16</a></li>
<li><a href="#nat8">nat8</a></li>
<li><a href="#int">int</a></li>
<li><a href="#int64">int64</a></li>
<li><a href="#int32">int32</a></li>
<li><a href="#int16">int16</a></li>
<li><a href="#int8">int8</a></li>
<li><a href="#float64">float64</a></li>
<li><a href="#float32">float32</a></li>
<li><a href="#bool">bool</a></li>
<li><a href="#null">null</a></li>
<li><a href="#vec">vec</a></li>
<li><a href="#opt">opt</a></li>
<li><a href="#record">record</a></li>
<li><a href="#variant">variant</a></li>
<li><a href="#func">func</a></li>
<li><a href="#service">service</a></li>
<li><a href="#principal">principal</a></li>
<li><a href="#reserved">reserved</a></li>
<li><a href="#empty">empty</a></li>
</ul>
<p><a href="https://internetcomputer.org/docs/current/developer-docs/backend/candid/">Candid</a> is an interface description language created by <a href="https://dfinity.org/">DFINITY</a>. It can be used to define interfaces between services (canisters), allowing canisters and clients written in various languages to easily interact with each other.</p>
<p>Kybra allows you to express Candid types through a combination of native and Kybra-provided Python types. These types will be necessary in various places as you define your canister. For example, Candid types must be used when defining the parameters and return types of your query and update methods.</p>
<p>It's important to note that the Candid types are represented at runtime using specific Python data structures that may differ in behavior from the description of the actual Candid type. For example, a <code>float32</code> Candid type is a <a href="https://docs.python.org/3/library/functions.html#float">Python float</a>, a <code>nat64</code> is a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a>, and an <code>int</code> is also a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a>.</p>
<p>Keep this in mind as it may result in unexpected behavior. Each Candid type and its equivalent Python runtime value is explained in more detail in this chapter.</p>
<p>A reference of all Candid types available on the Internet Computer (IC) can be found <a href="https://internetcomputer.org/docs/current/references/candid-ref">here</a>.</p>
<p>The following is a simple example showing how to import and use most of the Candid types available in Kybra:</p>
<pre><code class="language-python">from kybra import (
    blob,
    nat,
    nat64,
    nat32,
    nat16,
    nat8,
    int64,
    int32,
    int16,
    int8,
    float64,
    float32,
    null,
    opt,
    Principal,
    Variant,
    Func,
    query,
    Query,
    Record
)
from typing import TypeAlias

class Candid(Record):
    text: str
    blob: blob
    nat: nat
    nat64: nat64
    nat32: nat32
    nat16: nat16
    nat8: nat8
    int: int
    int64: int64
    int32: int32
    int16: int16
    int8: int8
    float64: float64
    float32: float32
    bool: bool
    opt: opt['nat']
    record: 'CandidRecord'
    variant: 'CandidVariant'
    func: 'CandidFunc'
    principal: Principal

class CandidRecord(Record):
    first_name: str
    last_name: str
    age: nat8

class CandidVariant(Variant, total=False):
    Tag1: null
    Tag2: null
    Tag3: int

CandidFunc: TypeAlias = Func(Query[[], Candid]) # type: ignore

@query
def candid_types() -&gt; Candid:
    return {
        'text': 'text',
        'blob': bytes(),
        'nat': 340_282_366_920_938_463_463_374_607_431_768_211_455,
        'nat64': 18_446_744_073_709_551_615,
        'nat32': 4_294_967_295,
        'nat16': 65_535,
        'nat8': 255,
        'int': 170_141_183_460_469_231_731_687_303_715_884_105_727,
        'int64': 9_223_372_036_854_775_807,
        'int32': 2_147_483_647,
        'int16': 32_767,
        'int8': 127,
        'float64': 0.0,
        'float32': 0.0,
        'bool': True,
        'opt': None,
        'record': {
            'first_name': 'John',
            'last_name': 'Doe',
            'age': 35
        },
        'variant': {
            'Tag1': None
        },
        'func': (
            Principal.from_str('rrkah-fqaaa-aaaaa-aaaaq-cai'),
            'candid_types'
        ),
        'principal': Principal.from_str('ryjl3-tyaaa-aaaaa-aaaba-cai')
    }
</code></pre>
<p>Calling <code>candid_types</code> with <code>dfx</code> will return:</p>
<pre><code>(
  record {
    &quot;int&quot; = 170_141_183_460_469_231_731_687_303_715_884_105_727 : int;
    &quot;nat&quot; = 340_282_366_920_938_463_463_374_607_431_768_211_455 : nat;
    &quot;opt&quot; = null;
    &quot;principal&quot; = principal &quot;ryjl3-tyaaa-aaaaa-aaaba-cai&quot;;
    &quot;blob&quot; = vec {};
    &quot;bool&quot; = true;
    &quot;func&quot; = func &quot;rrkah-fqaaa-aaaaa-aaaaq-cai&quot;.candid_types;
    &quot;int8&quot; = 127 : int8;
    &quot;nat8&quot; = 255 : nat8;
    &quot;text&quot; = &quot;text&quot;;
    &quot;nat16&quot; = 65_535 : nat16;
    &quot;nat32&quot; = 4_294_967_295 : nat32;
    &quot;nat64&quot; = 18_446_744_073_709_551_615 : nat64;
    &quot;int16&quot; = 32_767 : int16;
    &quot;int32&quot; = 2_147_483_647 : int32;
    &quot;int64&quot; = 9_223_372_036_854_775_807 : int64;
    &quot;variant&quot; = variant { Tag1 };
    &quot;float32&quot; = 0 : float32;
    &quot;float64&quot; = 0 : float64;
    &quot;record&quot; = record {
      age = 35 : nat8;
      first_name = &quot;John&quot;;
      last_name = &quot;Doe&quot;;
    };
  },
)
</code></pre>
<h4 id="text"><a class="header" href="#text">text</a></h4>
<p>The Python type <code>str</code> and the Kybra type <code>text</code> both correspond to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-text">Candid type text</a> and will become a <a href="https://docs.python.org/3/library/stdtypes.html#textseq">Python str</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, query

@query
def get_string() -&gt; str:
    return 'Hello world!'

@query
def print_string(string: str) -&gt; str:
    ic.print(type(string))
    return string
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_string&quot;: () -&gt; (text) query;
    &quot;print_string&quot;: (text) -&gt; (text) query;
}
</code></pre>
<h4 id="blob"><a class="header" href="#blob">blob</a></h4>
<p>The Kybra type <code>blob</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-blob">Candid type blob</a> and will become a <a href="https://docs.python.org/3/library/stdtypes.html#bytes">Python bytes</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-Python">from kybra import blob, ic, query

@query
def get_blob() -&gt; blob:
    return bytes([68, 73, 68, 76, 0, 0])

@query
def print_blob(blob: blob) -&gt; blob:
    ic.print(type(blob))
    return blob
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_blob&quot;: () -&gt; (blob) query;
    &quot;print_blob&quot;: (blob) -&gt; (blob) query;
}
</code></pre>
<h4 id="nat"><a class="header" href="#nat">nat</a></h4>
<p>The Kybra type <code>nat</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-nat">Candid type nat</a> and will become a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, nat, query

@query
def get_nat() -&gt; nat:
    return 340_282_366_920_938_463_463_374_607_431_768_211_455

@query
def print_nat(nat: nat) -&gt; nat:
    ic.print(type(nat))
    return nat
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_nat&quot;: () -&gt; (nat) query;
    &quot;print_nat&quot;: (nat) -&gt; (nat) query;
}
</code></pre>
<h4 id="nat64"><a class="header" href="#nat64">nat64</a></h4>
<p>The Kybra type <code>nat64</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-natn-and-intn">Candid type nat64</a> and will become a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, nat64, query

@query
def get_nat64() -&gt; nat64:
    return 18_446_744_073_709_551_615

@query
def print_nat64(nat64: nat64) -&gt; nat64:
    ic.print(type(nat64))
    return nat64
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_nat64&quot;: () -&gt; (nat64) query;
    &quot;print_nat64&quot;: (nat64) -&gt; (nat64) query;
}
</code></pre>
<h4 id="nat32"><a class="header" href="#nat32">nat32</a></h4>
<p>The Kybra type <code>nat32</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-natn-and-intn">Candid type nat32</a> and will become a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, nat32, query

@query
def get_nat32() -&gt; nat32:
    return 4_294_967_295

@query
def print_nat32(nat32: nat32) -&gt; nat32:
    ic.print(type(nat32))
    return nat32
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_nat32&quot;: () -&gt; (nat32) query;
    &quot;print_nat32&quot;: (nat32) -&gt; (nat32) query;
}
</code></pre>
<h4 id="nat16"><a class="header" href="#nat16">nat16</a></h4>
<p>The Kybra type <code>nat16</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-natn-and-intn">Candid type nat16</a> and will become a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, nat16, query

@query
def get_nat16() -&gt; nat16:
    return 65_535

@query
def print_nat16(nat16: nat16) -&gt; nat16:
    ic.print(type(nat16))
    return nat16
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_nat16&quot;: () -&gt; (nat16) query;
    &quot;print_nat16&quot;: (nat16) -&gt; (nat16) query;
}
</code></pre>
<h4 id="nat8"><a class="header" href="#nat8">nat8</a></h4>
<p>The Kybra type <code>nat8</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-natn-and-intn">Candid type nat8</a> and will become a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, nat8, query

@query
def get_nat8() -&gt; nat8:
    return 255

@query
def print_nat8(nat8: nat8) -&gt; nat8:
    ic.print(type(nat8))
    return nat8
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_nat8&quot;: () -&gt; (nat8) query;
    &quot;print_nat8&quot;: (nat8) -&gt; (nat8) query;
}
</code></pre>
<h4 id="int"><a class="header" href="#int">int</a></h4>
<p>The Kybra type <code>int</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-int">Candid type int</a> and will become a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, int, query

@query
def get_int() -&gt; int:
    return 170_141_183_460_469_231_731_687_303_715_884_105_727

@query
def print_int(int: int) -&gt; int:
    ic.print(type(int))
    return int
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_int&quot;: () -&gt; (int) query;
    &quot;print_int&quot;: (int) -&gt; (int) query;
}
</code></pre>
<h4 id="int64"><a class="header" href="#int64">int64</a></h4>
<p>The Kybra type <code>int64</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-natn-and-intn">Candid type int64</a> and will become a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, inat64, query

@query
def get_int64() -&gt; int64:
    return 9_223_372_036_854_775_807

@query
def print_int64(int64: int64) -&gt; int64:
    ic.print(type(int64))
    return int64
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_int64&quot;: () -&gt; (int64) query;
    &quot;print_int64&quot;: (int64) -&gt; (int64) query;
}
</code></pre>
<h4 id="int32"><a class="header" href="#int32">int32</a></h4>
<p>The Kybra type <code>int32</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-natn-and-intn">Candid type int32</a> and will become a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, int32, query

@query
def get_int32() -&gt; int32:
    return 2_147_483_647

@query
def print_int32(int32: int32) -&gt; int32:
    ic.print(type(int32))
    return int32
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_int32&quot;: () -&gt; (int32) query;
    &quot;print_int32&quot;: (int32) -&gt; (int32) query;
}
</code></pre>
<h4 id="int16"><a class="header" href="#int16">int16</a></h4>
<p>The Kybra type <code>int16</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-natn-and-intn">Candid type int16</a> and will become a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, int16, query

@query
def get_int16() -&gt; int16:
    return 32_767

@query
def print_int16(int16: int16) -&gt; int16:
    ic.print(type(int16))
    return int16
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_int16&quot;: () -&gt; (int16) query;
    &quot;print_int16&quot;: (int16) -&gt; (int16) query;
}
</code></pre>
<h4 id="int8"><a class="header" href="#int8">int8</a></h4>
<p>The Kybra type <code>int8</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-natn-and-intn">Candid type int8</a> and will become a <a href="https://docs.python.org/3/library/functions.html#int">Python int</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, int8, query

@query
def get_int8() -&gt; int8:
    return 127

@query
def print_int8(int8: int8) -&gt; int8:
    ic.print(type(int8))
    return int8
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_int8&quot;: () -&gt; (int8) query;
    &quot;print_int8&quot;: (int8) -&gt; (int8) query;
}
</code></pre>
<h4 id="float64"><a class="header" href="#float64">float64</a></h4>
<p>The Kybra type <code>float64</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-float32-and-float64">Candid type float64</a> and will become a <a href="https://docs.python.org/3/library/functions.html#float">Python float</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import float64, ic, query

import math

@query
def get_float64() -&gt; float64:
    return math.e

@query
def print_float64(float64: float64) -&gt; float64:
    ic.print(type(float64))
    return float64
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_float64&quot;: () -&gt; (float64) query;
    &quot;print_float64&quot;: (float64) -&gt; (float64) query;
}
</code></pre>
<h4 id="float32"><a class="header" href="#float32">float32</a></h4>
<p>The Kybra type <code>float32</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-float32-and-float64">Candid type float32</a> and will become a <a href="https://docs.python.org/3/library/functions.html#float">Python float</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import float32, ic, query

def get_float32() -&gt; float32:
    return math.pi

def print_float32(float32: float32) -&gt; float32:
    ic.print(type(float32))
    return float32
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_float32&quot;: () -&gt; (float32) query;
    &quot;print_float32&quot;: (float32) -&gt; (float32) query;
}
</code></pre>
<h4 id="bool"><a class="header" href="#bool">bool</a></h4>
<p>The Python type <code>bool</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-bool">Candid type bool</a> and will become a <a href="https://docs.python.org/3/library/stdtypes.html#boolean-values">Python Boolean Value</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-Python">from kybra import ic, query

@query
def get_bool() -&gt; bool:
    return True

@query
def print_bool(bool: bool) -&gt; bool:
    ic.print(type(bool))
    return bool
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_bool&quot;: () -&gt; (bool) query;
    &quot;print_bool&quot;: (bool) -&gt; (bool) query;
}
</code></pre>
<h4 id="null"><a class="header" href="#null">null</a></h4>
<p>The Python type <code>None</code> and the Kybra type <code>null</code> both correspond to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-null">Candid type null</a> and will become the <a href="https://docs.python.org/3/library/stdtypes.html#the-null-object">Python Null Object</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, query

@query
def get_null() -&gt; None:
    return None

@query
def print_null(none: None) -&gt; None:
    ic.print(type(none))
    return none
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_null&quot;: () -&gt; (null) query;
    &quot;print_null&quot;: (null) -&gt; (null) query;
}
</code></pre>
<h4 id="vec"><a class="header" href="#vec">vec</a></h4>
<p>The Python type <code>list</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-vec-t">Candid type vec</a> and will become an array of the specified type at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import int32, query

@query
def get_numbers() -&gt; list[int32]:
    return [0, 1, 2, 3]
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_numbers&quot;: () -&gt; (vec int32) query;
}
</code></pre>
<h4 id="opt"><a class="header" href="#opt">opt</a></h4>
<p>The Kybra type <code>opt</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-opt-t">Candid type opt</a> and will become the enclosed Python type or None at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import opt, query

@query
def get_opt_some() -&gt; opt[bool]:
    return True

@query
def get_opt_none() -&gt; opt[bool]:
    return None
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_opt_some&quot;: () -&gt; (opt bool) query;
    &quot;get_opt_none&quot;: () -&gt; (opt bool) query;
}
</code></pre>
<h4 id="record"><a class="header" href="#record">record</a></h4>
<p>Python classes that inherit from the Kybra type <code>Record</code> correspond to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-record--n--t--">Candid record type</a> and will become <a href="https://docs.python.org/3/library/typing.html#typing.TypedDict">Python TypedDicts</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import Record

class Post(Record):
    id: str
    author: 'User'
    text: str
    thread: 'Thread'

class Thread(Record):
    id: str
    author: 'User'
    posts: list[Post]
    title: str

class User(Record):
    id: str
    posts: list[Post]
    thread: list[Thread]
    username: str
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">type Post = record {
    &quot;id&quot;: text;
    &quot;author&quot;: User;
    &quot;text&quot;: text;
    &quot;thread&quot;: Thread;
};

type Thread = record {
    &quot;id&quot;: text;
    &quot;author&quot;: User;
    &quot;posts&quot;: vec Post;
    &quot;title&quot;: text;
};

type User = record {
    &quot;id&quot;: text;
    &quot;posts&quot;: vec Post;
    &quot;threads&quot;: vec Thread;
    &quot;username&quot;: text;
};
</code></pre>
<h4 id="variant"><a class="header" href="#variant">variant</a></h4>
<p>Python classes that inherit from the Kybra type <code>Variant</code> correspond to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-variant--n--t--">Candid variant type</a> and will become <a href="https://docs.python.org/3/library/typing.html#typing.TypedDict">Python TypedDicts</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import nat32, Variant

class ReactionType(Variant, total=False):
    Fire: None
    ThumbsUp: None
    ThumbsDown: None
    Emotion: 'Emotion'
    Firework: 'Firework'

class Emotion(Variant, total=False):
    Happy: None
    Sad: None

class Firework(Variant, total=False):
    Color: str
    NumStreaks: nat32
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">type ReactionType = variant {
    &quot;Fire&quot;: null;
    &quot;ThumbsUp&quot;: null;
    &quot;ThumbsDown&quot;: null;
    &quot;Emotion&quot;: Emotion;
    &quot;Firework&quot;: Firework
};

type Emotion = variant {
    &quot;Happy&quot;: null;
    &quot;Sad&quot;: null
};

type Firework = record {
    &quot;Color&quot;: text;
    &quot;NumStreaks&quot;: nat32;
};
</code></pre>
<h4 id="func"><a class="header" href="#func">func</a></h4>
<p>The Kybra type <code>Func</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-func---">Candid type func</a> and at runtime will become a Python tuple with two elements, the first being an <a href="https://github.com/rocklabs-io/ic-py">ic-py Principal</a> and the second being a <a href="https://docs.python.org/3/library/stdtypes.html#textseq">Python str</a>. The <code>ic-py Principal</code> represents the <code>principal</code> of the canister/service where the function exists, and the <code>str</code> represents the function's name.</p>
<p>Note that an explicit <code>TypeAlias</code> must be used when defining a <code>func</code>.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import Func, nat64, Principal, query, Query, Record, update, Update, Variant

class User(Record):
    id: str
    basic_func: 'BasicFunc'
    complex_func: 'ComplexFunc'

class Reaction(Variant, total=False):
    Good: None
    Bad: None
    BasicFunc: 'BasicFunc'
    ComplexFunc: 'ComplexFunc'

BasicFunc: TypeAlias = Func(Query[[str], str])
ComplexFunc: TypeAlias = Func(Update[[User, Reaction], nat64])

@query
def get_basic_func() -&gt; BasicFunc:
    return (Principal.from_str('rrkah-fqaaa-aaaaa-aaaaq-cai'), 'simple_function_name')

@query
def get_complex_func() -&gt; ComplexFunc:
    return (Principal.from_str('ryjl3-tyaaa-aaaaa-aaaba-cai'), 'complex_function_name')
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">type User = record {
    &quot;id&quot;: text;
    &quot;basic_func&quot;: BasicFunc;
    &quot;complex_func&quot;: ComplexFunc;
};
type Reaction = variant { &quot;Good&quot;: null; &quot;Bad&quot;: null; &quot;BasicFunc&quot;: BasicFunc; &quot;ComplexFunc&quot;: ComplexFunc };

type BasicFunc = func (text) -&gt; (text) query;
type ComplexFunc = func (User, Reaction) -&gt; (nat64);

service: () -&gt; {
    &quot;get_basic_func&quot;: () -&gt; (BasicFunc) query;
    &quot;get_complex_func&quot;: () -&gt; (ComplexFunc) query;
}

</code></pre>
<h4 id="service"><a class="header" href="#service">service</a></h4>
<p><a href="https://github.com/demergent-labs/kybra/issues/124">Not yet implemented.</a></p>
<h4 id="principal"><a class="header" href="#principal">principal</a></h4>
<p>The Kybra type <code>Principal</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-principal">Candid type principal</a> and will become an <a href="https://github.com/rocklabs-io/ic-py">ic-py Principal</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, Principal, query

@query
def get_principal() -&gt; Principal:
    return Principal.from_str('rrkah-fqaaa-aaaaa-aaaaq-cai')

@query
def print_principal(principal: Principal) -&gt; Principal:
    ic.print(type(principal))
    return principal
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_principal&quot;: () -&gt; (principal) query;
    &quot;print_principal&quot;: (principal) -&gt; (principal) query;
}
</code></pre>
<h4 id="reserved"><a class="header" href="#reserved">reserved</a></h4>
<p>The Kybra type <code>reserved</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-reserved">Candid type reserved</a> and will become the <a href="https://docs.python.org/3/library/stdtypes.html#the-null-object">Python Null Object</a> at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import ic, query, reserved

@query
def get_reserved() -&gt; reserved:
    return 'anything'

@query
def print_reserved(reserved: reserved) -&gt; reserved:
    ic.print(type(reserved))
    return reserved
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_reserved&quot;: () -&gt; (reserved) query;
    &quot;print_reserved&quot;: (reserved) -&gt; (reserved) query;
}
</code></pre>
<h4 id="empty"><a class="header" href="#empty">empty</a></h4>
<p>The Kybra type <code>empty</code> corresponds to the <a href="https://internetcomputer.org/docs/current/references/candid-ref#type-empty">Candid type empty</a> and has no Python value at runtime.</p>
<p>Python:</p>
<pre><code class="language-python">from kybra import empty, ic, query

def get_empty() -&gt; empty:
    raise Exception('Anything you want')

# Note: It is impossible to call this function because it requires an argument
# but there is no way to pass an &quot;empty&quot; value as an argument.
@query
def print_empty(empty: empty) -&gt; empty:
    ic.print(type(empty))
    raise Exception('Anything you want')
</code></pre>
<p>Candid:</p>
<pre><code class="language-python">service: {
    &quot;get_empty&quot;: () -&gt; (empty) query;
    &quot;print_empty&quot;: (empty) -&gt; (empty) query;
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="update_methods.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="stable_structures.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="update_methods.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="stable_structures.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
